# 아이템 14. 타입 연산과 제너릭 사용으로 반복 줄이기

1. 전체 어플리케이션의 상태를 표현하는 State 타입과 그 일부를 표현하는 TopNavState를 표현해야 하는 경우를 상정해보려 합니다. 아래와 같은 타입 일때 TopNavState가 State의 필드 중 일부만을 포함하는 부분집합이기에 TopNavState를 먼저 선언하고 이를 확장하여 State를 구성하는 방향으로 생각할 수도 있습니다.

```
interface State {
  userId: string;
  pageTitle: string;
  recentFiles: string[];
  pageContents: string;
}

interface TopNavState {
  userId: string;
  pageTitle: string;
  recentFiles: string[];
}
```

2. 그런데 State 인터페이스의 개념을 보다 살리기 위해서는 State를 먼저 선언한 후 부분 집합으로 TopNavState를 정의하는 것이 바람직합니다. 이 때 사용할 수 있는 방법으로 State 인터페이스를 인덱싱하는 방법, 매핑된 타입 (Mapped Type) 을 사용하는 방법, 타입스크립트 표준 라이브러리의 제네릭 타입인 Pick을 사용하는 방법이 있습니다. 아래의 코드는 세 가지 방법을 순서대로 나열한 것입니다.

```
type TopNavState = {
  userId: State['userId'];
  pageTitle: State['pageTitle'];
  recentFiles: State['recentFiles'];
};
```

```
type TopNavState = {
  [k in 'userId' | 'pageTitle' | 'recentFiles']: State[k]
};
```

```
type TopNavState = Pick<State, 'userId' | 'pageTitle' | 'recentFiles'>;
```

3. Pick의 경우 타입스크립트 표준 라이브러리의 제네릭 타입으로 그 정의는 다음과 같습니다. 즉 실질적으로는 매핑된 타입을 추상화시켜 제네릭 타입으로 만든 것이 Pick 타입입니다.

```
type Pick<T, K extends keyof T> = {
    [P in K]: T[P];
};
```
